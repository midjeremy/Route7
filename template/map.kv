<MapScreen>:
    BoxLayout:
        orientation: 'vertical'

        MapView:
            id: map_view
            zoom: 10
            lat: -33.4489
            lon: -70.6693
            on_touch_down: root.on_map_touch(self, args[1])

        BoxLayout:
            size_hint_y: None
            height: 50

            Button:
                text: 'Guardar Ruta'
                on_press: root.save_ruta()
                background_normal: ''
                background_color: 0, 0.5, 0, 1
                color: 1, 1, 1, 1

            Spinner:
                id: ruta_selector
                text: 'Selecciona Ruta'
                values: []
                on_text: if self.text != 'Selecciona Ruta': root.cargar_ruta(self.text)
                background_normal: ''
                background_color: 0.5, 0.5, 0.5, 1	
                color: 1, 1, 1, 1

            Button:
                text: 'Agregar Punto'
                on_press: root.activar_modo_edicion()

            Button:
                text: 'Limpiar Ruta'
                on_press: root.limpiar_ruta()
                background_normal: ''
                background_color: 0.8, 0.8, 0, 1
                color: 1, 1, 1, 1

            Button:
                text: 'Salir del mapa'
                on_press: root.salir_mapa()
                background_normal: ''
                background_color: 1, 0, 0, 1
                color: 1, 1, 1, 1  
